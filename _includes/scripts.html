<!-- Main JavaScript -->
<script src="{{ '/assets/js/main.js' | relative_url }}"></script>

<!-- Optional JavaScript for specific page functionality -->
{% if page.custom_js %}
  {% for js_file in page.custom_js %}
    <script src="{{ site.baseurl }}/assets/js/{{ js_file }}.js"></script>
  {% endfor %}
{% endif %}

<!-- Syntax highlighting for code blocks (optional) -->
{% if page.layout == 'post' or page.highlight_code %}
<script>
  document.addEventListener('DOMContentLoaded', function() {
    document.querySelectorAll('pre code').forEach((block) => {
      if (!block.classList.contains('language-mermaid')) {
        // Apply syntax highlighting if you're using a library like highlight.js
        // hljs.highlightBlock(block);
      }
    });
    
    // If you're using mermaid for diagrams
    if (document.querySelector('.language-mermaid')) {
      // mermaid.initialize({ startOnLoad: true });
    }
  });
</script>
{% endif %}

<!-- Analytics (optional) -->
{% if jekyll.environment == 'production' and site.google_analytics %}
  <script async src="https://www.googletagmanager.com/gtag/js?id={{ site.google_analytics }}"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', '{{ site.google_analytics }}');
  </script>
{% endif %}